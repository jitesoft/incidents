(async ()=>{var A=document.querySelector('template#incident'),b=document.querySelector('#app'),c=new showdown.Converter();var d=await (await fetch(`${config.baseUri}/${config.repo}/issues?state=all&sort=updated&per_page=${config.pagesize}&page=1&creator=${config.user}`)).json();for(const _ of d){if(_.user.login.toLowerCase()!==config.user.toLowerCase())continue;var e=document.importNode(A.content,!0),f=e.querySelector('[data-ref="labels"]');e.querySelector('[data-ref="status"]').classList.add(_.state);e.querySelector('[data-ref="text"]').innerHTML=c.makeHtml(_.body);e.querySelector('[data-ref="status"]').innerText=_.state;e.querySelector('[data-ref="title"]').innerText=_.title;e.querySelector('[data-ref="created"]').innerText='Opened '+new Date(_.created_at).toLocaleString();e.querySelector('[data-ref="updated"]').innerText='Updated '+new Date(_.updated_at).toLocaleString();_.closed_at&&(e.querySelector('[data-ref="closed"]').innerText='Resolved '+new Date(_.closed_at).toLocaleString());_.comments&&(e.querySelector('[data-ref="comments"]').innerText='Comments',e.querySelector('[data-ref="comments"]').href=_.html_url);for(const B of _.labels.slice(0,6)){var g=document.createElement('span');g.classList.add('label');g.style.backgroundColor=`#${B.color}`;g.style.color='#'+((parseInt(B.color,16)&0x000000)|(~parseInt(B.color,16)&0xFFFFFF)).toString(16);g.innerText=B.name;f.appendChild(g)}b.appendChild(e)}})();var a=document.querySelector('.mode-switcher');a.addEventListener('click',C=>{var _b=document.body.classList;_b.contains('light')?(C.target.innerText='🌞',_b.remove('light'),_b.add('dark')):(C.target.innerText='🌙',_b.remove('dark'),_b.add('light'))});
